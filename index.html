<!DOCTYPE html>
<html>
<head>
	<title>VoizTrainer</title>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/main.css">
</head>

<body>

	<nav class="navbar navbar-expand-lg navbar-light bg-light">
	  <a class="navbar-brand" href="#">VoizTrainer</a>
	  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
	    <span class="navbar-toggler-icon"></span>
	  </button>

	  <div class="collapse navbar-collapse" id="navbarSupportedContent">
	    <ul class="navbar-nav mr-auto">
	      <li class="nav-item active">
	        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
	      </li>
	    </ul>
	  </div>
	</nav>

	<div id="content">
			
		<svg preserveAspectRatio="none" id="visualizer" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		    <defs>

		        <mask id="mask">
		            <g id="maskGroup">
		          </g>
		        </mask>
		        <linearGradient id="gradient" x1="0%" y1="0%" x2="0%" y2="100%">
		            <stop offset="0%" style="stop-color:#ff0a0a;stop-opacity:1" />
		            <stop offset="20%" style="stop-color:#f1ff0a;stop-opacity:1" />
		            <stop offset="90%" style="stop-color:#d923b9;stop-opacity:1" />
		            <stop offset="100%" style="stop-color:#050d61;stop-opacity:1" />
		        </linearGradient>
		    </defs>
		    <rect x="0" y="0" width="100%" height="100%" fill="url(#gradient)" mask="url(#mask)"></rect>
		</svg>

		<br>
		<h1>In <a href="https://codepen.io/zapplebee/full/gbNbZE/">Full Page view</a>, please allow the use of your microphone</h1>


		<img id="img-recording" src="img/recording.svg">
		<br> <br>
		<div id="start-stop-group">
			<br>
			<img id="play" src="img/play.png" class="btn btn-primary" type="submit">
			<button class="btn btn-primary" type="submit">Stop</button>
		</div>

	</div>

	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/p5.min.js"></script>
	<script src="js/p5.sound.js"></script>
	<script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.min.js"></script>
	<script language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js"></script>
	<script language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.sound.min.js"></script>
	<script src="js/sound.js"></script>
	<script src="js/volume-meter.js"></script>
	<script src="js/main.js"></script>

	<canvas id="meter" width="500" height="50"></canvas>
	<pre>var meter = createAudioMeter(audioContext,clipLevel,averaging,clipLag);

audioContext: the AudioContext you're using.
clipLevel: the level (0 to 1) that you would consider "clipping".  Defaults to 0.98.
averaging: how "smoothed" you would like the meter to be over time.  Should be between 0 and less than 1.  Defaults to 0.95.
clipLag: how long you would like the "clipping" indicator to show after clipping has occured, in milliseconds.  Defaults to 750ms.

meter.checkClipping();

returns true if the node has clipped in the last clipLag milliseconds.

meter.shutdown();

used to destroy the node (it's important to disconnect and remove the event handler for any ScriptProcessor).
</pre>

</body>
</html>